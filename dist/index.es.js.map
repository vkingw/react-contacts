{"version":3,"file":"index.es.js","sources":["../src/utils.js","../node_modules/style-inject/dist/style-inject.es.js","../src/contacts.js"],"sourcesContent":["import React from 'react';\nimport {Tree} from \"antd\";\n\nconst TreeNode = Tree.TreeNode;\n\n/**\n *\n * @param nodes\n * @returns {*} tree nodes.\n */\nexport function makeTreeNode(nodes) {\n  return nodes.map(v => {\n    const nodeKey = v.id;\n    return (\n      <TreeNode data={v} title={v.name} key={nodeKey}>\n        {v.children.length > 0 && makeTreeNode(v.children, nodeKey)}\n      </TreeNode>\n    );\n  });\n}\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React, {PureComponent} from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Card,\n  Checkbox,\n  Col,\n  Form,\n  Input,\n  List,\n  Pagination,\n  Row,\n  Tree,\n  Spin,\n  Tag,\n  Icon,\n  message,\n} from 'antd';\nimport {makeTreeNode} from './utils';\n\nimport styles from './contacts.less';\n\nconst {Search} = Input;\n\n/**\n * 根据关键字搜索部门树\n * @param key\n * @param deptTree\n * @param dataList\n */\nconst searchByKey = (key, deptTree, dataList) => {\n  deptTree.forEach(item => {\n    if (item.name.indexOf(key) > -1) {\n      dataList.push(item);\n    }\n    if (item.children && item.children.length > 0) {\n      searchByKey(key, item.children, dataList);\n    }\n  });\n};\n\nclass Contacts extends PureComponent {\n  state = {\n    deptId: null,\n    nameKey: null,\n    onSearch: false,\n    deptTreeNode: [],\n    selectUser: [],\n    deptSearchResult: [],\n    onDeptSearch: false,\n  };\n\n  componentWillReceiveProps(nextProps) {\n    const {userInfRole} = nextProps;\n    const {selectUser} = this.state;\n    if (selectUser.length === 0 && userInfRole.length > 0) {\n      this.setState({selectUser: userInfRole});\n    }\n  }\n\n  /**\n   * 翻页查询处理\n   * @param page\n   */\n  onPageChange = page => {\n    const {handleSearchUser,debug} = this.props;\n    if(debug){\n      window.console.log(page)\n    }\n    const {deptId, nameKey} = this.state;\n    if (handleSearchUser) {\n      handleSearchUser(page - 1, nameKey, deptId);\n      this.setState({onSearch: true});\n    } else {\n      message.error('搜索function not found.');\n    }\n  };\n\n  /**\n   * 姓名搜索为空时处理\n   * @param e\n   */\n  handleSearchChange = e => {\n    if (!e.target.value) {\n      const {handleSearchUser} = this.props;\n      const {deptId} = this.state;\n      if (handleSearchUser) {\n        handleSearchUser(0, null, deptId);\n        this.setState({onSearch: true, nameKey: null});\n      } else {\n        message.error('搜索function not found.');\n      }\n    }\n  };\n\n  /**\n   *  点击查询回调，会把name key 和 dept id 回传，外部调用查询用\n   * @param nameKey 名字搜索关键字\n   * @param deptId 部门id\n   */\n  handleSearch = (nameKey = null) => {\n    const {handleSearchUser} = this.props;\n    const {deptId} = this.state;\n    if (handleSearchUser) {\n      handleSearchUser(0, nameKey, deptId);\n      this.setState({onSearch: true, nameKey});\n    } else {\n      message.error('搜索function not found.');\n    }\n  };\n\n  /**\n   * 点击部门树时传递部门id到回调里面\n   * @param selectedKeys 选择的部门id\n   */\n  onTreeSelect = selectedKeys => {\n    const {handleSearchUser} = this.props;\n    if (handleSearchUser) {\n      const [deptId] = selectedKeys;\n      handleSearchUser(0, null, deptId);\n      this.setState({onSearch: true, deptId});\n    } else {\n      message.error('搜索function not found.');\n    }\n  };\n\n  /**\n   * 点击树的check box 回调\n   * @param checkedKeys\n   * @param checked\n   * @param checkedNodes\n   * @param node\n   */\n  onDeptTreeCheck = (checkedKeys, {checked, checkedNodes, node}) => {\n    const tmp = [];\n    const {deptTreeNode} = this.state;\n    if (checked) {\n      const [one] = checkedNodes;\n      const {\n        props: {data},\n      } = one;\n      tmp.push(data);\n      this.setState({deptTreeNode: deptTreeNode.concat(tmp)});\n    } else {\n      const {\n        props: {data},\n      } = node;\n      const result = deptTreeNode.filter(value => value.id !== data.id);\n      this.setState({deptTreeNode: result.concat(tmp)});\n    }\n  };\n\n  /**\n   * 点击用户列表的回调\n   * @param e\n   */\n  onUserCheck = e => {\n    const {updateSelectUsers} = this.props;\n    const {\n      target: {checked, data},\n    } = e;\n    const {selectUser} = this.state;\n    const tmp = [];\n    let newSelectUser = [];\n    if (checked) {\n      tmp.push(data);\n      newSelectUser = selectUser.concat(tmp);\n    } else {\n      const result = selectUser.filter(value => value.userId !== data.userId);\n      newSelectUser = result.concat(tmp);\n    }\n    this.setState({selectUser: newSelectUser});\n    updateSelectUsers(newSelectUser);\n  };\n\n  /**\n   * 点击用户全选的回调\n   * @param e\n   */\n  onCheckAll = e => {\n    const {\n      target: {checked},\n    } = e;\n    const tmp = [];\n    if (checked) {\n      const {onSearch} = this.state;\n      const {users, searchResult} = this.props;\n      let userData;\n      if (onSearch) {\n        userData = searchResult;\n      } else {\n        userData = users;\n      }\n      userData.records.forEach(value => {\n        tmp.push(value);\n      });\n    }\n    this.setState({selectUser: tmp});\n  };\n\n  /**\n   * 生成显示的部门Tag\n   * @param v\n   * @return {*}\n   */\n  makeDeptTag = v => (\n    <Tag\n      key={v.id}\n      className={styles.deptTag}\n      onClick={e => {\n        e.preventDefault();\n        this.unCheckDept(v);\n      }}\n    >\n      {v.name} <Icon type=\"close-circle\" theme=\"filled\" />\n    </Tag>\n  );\n\n  /**\n   *\n   * @param data\n   */\n  unCheckDept = data => {\n    const tmp = [];\n    const {deptTreeNode} = this.state;\n    const result = deptTreeNode.filter(value => value.id !== data.id);\n    this.setState({deptTreeNode: result.concat(tmp)});\n  };\n\n  /**\n   * 生成显示的用户Tag\n   * @param v\n   * @return {*}\n   */\n  makeUserTag = v => {\n    return (\n      <Tag\n        key={v.userId}\n        className={styles.userTag}\n        onClick={e => {\n          e.preventDefault();\n          this.unCHeckUser(v);\n        }}\n      >\n        {v.username} <Icon type=\"close-circle\" theme=\"filled\" />\n      </Tag>\n    );\n  };\n\n  /**\n   * 点击用户Tag时取消选择\n   * @param data\n   */\n  unCHeckUser = data => {\n    const tmp = [];\n    const {selectUser} = this.state;\n    const result = selectUser.filter(value => value.userId !== data.userId);\n    this.setState({selectUser: result.concat(tmp)});\n  };\n\n  /**\n   * 判断用户是否选择\n   * @param data\n   * @return {boolean}\n   */\n  isUserCheck = data => {\n    const {selectUser} = this.state;\n    const result = selectUser.find(value => value.userId === data.userId);\n    return !!result;\n  };\n\n  /**\n   * 判断部门是否选择\n   * @param data\n   * @return {boolean}\n   */\n  isDeptCheck = data => {\n    const {deptTreeNode} = this.state;\n    const result = deptTreeNode.find(value => value.id === data.id);\n    return !!result;\n  };\n\n  /**\n   * 生成选择树\n   * @param data\n   * @return {*}\n   */\n  makeCheckedKeys = data => {\n    return data.map(v => v.id);\n  };\n\n  /**\n   * 根据关键字搜索部门\n   * @param value\n   */\n  onSearchDept = value => {\n    if (!value) {\n      this.setState({deptSearchResult: [], onDeptSearch: !!value});\n    } else {\n      const {deptTree = []} = this.props;\n      const dataList = [];\n      searchByKey(value.trim(), deptTree, dataList);\n      this.setState({deptSearchResult: dataList, onDeptSearch: !!value});\n    }\n  };\n\n  onSearchDeptChange=e=>{\n    if (!e.target.value) {\n      this.setState({deptSearchResult: [], onDeptSearch: false});\n    }\n  };\n\n  /**\n   * 点击部门查询结果后，传递部门ID给外部查询\n   * @param item\n   */\n  onDeptSelect = item => {\n    this.handleSearch(null, item.id);\n    this.setState({onSearch: true});\n  };\n\n  /**\n   * 部门查询结果点击checkbox\n   * @param e\n   */\n  onDeptCheck = e => {\n    const {\n      target: {checked, data},\n    } = e;\n    const {deptTreeNode} = this.state;\n    const tmp = [];\n    if (checked) {\n      tmp.push(data);\n      this.setState({deptTreeNode: deptTreeNode.concat(tmp)});\n    } else {\n      const result = deptTreeNode.filter(value => value.id !== data.id);\n      this.setState({deptTreeNode: result.concat(tmp)});\n    }\n  };\n\n  render() {\n    const {\n      deptTree = [],\n      users,\n      loading = false,\n      searchResult,\n      deptSearch = false,\n      userSearch = false,\n      deptCheckBox = false,\n      searchDeptPlaceholder,\n      searchUserPlaceholder\n    } = this.props;\n    const {deptTreeNode, selectUser, onSearch, onDeptSearch, deptSearchResult, debug} = this.state;\n    let userData;\n    if (onSearch) {\n      userData = searchResult;\n    } else {\n      userData = users;\n    }\n    if (debug) {\n      window.console.log(userData)\n    }\n    return (\n      <div style={{height: '100%'}}>\n        <Spin spinning={loading}>\n          {userSearch && (\n            <Row>\n              <Search placeholder={searchUserPlaceholder} onSearch={this.handleSearch} />\n            </Row>\n          )}\n          {userSearch && <br />}\n          <Row>\n            <Col xs={12} sm={12} md={12} lg={12} xl={12}>\n              <Card className={styles.card}>\n                {deptSearch &&\n                <Search placeholder={searchDeptPlaceholder} onSelect={this.onSearchDeptChange} onSearch={this.onSearchDept} />}\n                {deptSearch && <br />}\n                {!onDeptSearch && (\n                  <Tree\n                    checkable={deptCheckBox}\n                    checkedKeys={this.makeCheckedKeys(deptTreeNode)}\n                    onSelect={this.onTreeSelect}\n                    onCheck={this.onDeptTreeCheck}\n                  >\n                    {makeTreeNode(deptTree)}\n                  </Tree>\n                )}\n                {onDeptSearch && (\n                  <List\n                    size=\"small\"\n                    bordered={false}\n                    dataSource={deptSearchResult}\n                    split={false}\n                    renderItem={item => {\n                      return (\n                        <List.Item>\n                          <div className={styles.itemDiv}>\n                            <Checkbox\n                              className={styles.checkbox}\n                              data={item}\n                              checked={this.isDeptCheck(item)}\n                              onChange={this.onDeptCheck}\n                            />\n                            <span onClick={() => this.onDeptSelect(item)}>{item.name}</span>\n                          </div>\n                        </List.Item>\n                      );\n                    }}\n                  />\n                )}\n              </Card>\n            </Col>\n            <Col xs={12} sm={12} md={12} lg={12} xl={12} className={styles.treeLeft}>\n              <Card className={styles.card}>\n                {deptSearch && (\n                  <Search\n                    placeholder={searchUserPlaceholder}\n                    onSearch={this.handleSearch}\n                    onChange={this.handleSearchChange}\n                  />\n                )}\n                {deptSearch && <br />}\n                <List\n                  size=\"small\"\n                  bordered={false}\n                  dataSource={userData.records}\n                  split={false}\n                  renderItem={item => {\n                    return (\n                      <List.Item>\n                        <div className={styles.itemDiv}>\n                          <Checkbox\n                            className={styles.checkbox}\n                            data={item}\n                            checked={this.isUserCheck(item)}\n                            onChange={this.onUserCheck}\n                          >\n                            {item.username}\n                          </Checkbox>\n                          <div className={styles.deptName}>{item.deptName}</div>\n                        </div>\n                      </List.Item>\n                    );\n                  }}\n                />\n              </Card>\n              <div className={styles.pagination}>\n                <Checkbox onChange={this.onCheckAll} className={styles.checkbox}>\n                  全选\n                </Checkbox>\n                <Pagination\n                  className={styles.pageNoe}\n                  simple\n                  current={userData.current || userData.current === 0 ? userData.current + 1 : 0}\n                  pageSize={userData.size}\n                  total={userData.total}\n                  onChange={this.onPageChange}\n                />\n              </div>\n            </Col>\n            <Col xs={24} sm={24} md={24} lg={24} xl={24}>\n              <Form colon={false}>\n                <Form.Item label={`共选择了${deptTreeNode.length + selectUser.length}个`}>\n                  <div className={styles.resultDiv}>\n                    {deptTreeNode && deptTreeNode.map(v => this.makeDeptTag(v))}\n                    {selectUser && selectUser.map(v => this.makeUserTag(v))}\n                  </div>\n                </Form.Item>\n              </Form>\n            </Col>\n          </Row>\n        </Spin>\n      </div>\n    );\n  }\n}\n\nContacts.propTypes = {\n  deptTree: PropTypes.array.isRequired,\n  users: PropTypes.object,\n  loading: PropTypes.bool,\n  searchResult: PropTypes.object,\n  handleSearchUser: PropTypes.func.isRequired,\n  deptSearch: PropTypes.bool,\n  updateSelectUsers: PropTypes.func.isRequired,\n  deptCheckBox: PropTypes.bool,\n  searchDeptPlaceholder: PropTypes.string,\n  searchUserPlaceholder: PropTypes.string,\n  debug: PropTypes.bool\n};\n\nContacts.defaultProps = {\n  users: {\n    records: [],\n  },\n  loading: false,\n  searchResult: {\n    records: [],\n  },\n  deptSearch: true,\n  deptCheckBox: true,\n  searchDeptPlaceholder: '请输入搜索部门',\n  searchUserPlaceholder: '请输入搜索姓名',\n  debug: false\n};\n\nexport default Contacts;\n"],"names":["TreeNode","makeTreeNode","nodes","map","v","nodeKey","id","name","children","length","Search","searchByKey","key","deptTree","dataList","forEach","item","indexOf","push","Contacts","deptId","nameKey","onSearch","deptTreeNode","selectUser","deptSearchResult","onDeptSearch","page","props","handleSearchUser","debug","window","console","log","state","setState","error","e","target","value","selectedKeys","checkedKeys","checked","checkedNodes","node","tmp","one","data","concat","result","filter","updateSelectUsers","newSelectUser","userId","users","searchResult","userData","records","styles","deptTag","preventDefault","unCheckDept","userTag","unCHeckUser","username","find","trim","handleSearch","nextProps","userInfRole","loading","deptSearch","userSearch","deptCheckBox","searchDeptPlaceholder","searchUserPlaceholder","height","card","onSearchDeptChange","onSearchDept","makeCheckedKeys","onTreeSelect","onDeptTreeCheck","itemDiv","checkbox","isDeptCheck","onDeptCheck","onDeptSelect","treeLeft","handleSearchChange","isUserCheck","onUserCheck","deptName","pagination","onCheckAll","pageNoe","current","size","total","onPageChange","resultDiv","makeDeptTag","makeUserTag","PureComponent","propTypes","PropTypes","array","isRequired","object","bool","func","string","defaultProps"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAGA,IAAMA,QAAQ,GAAG,MAAKA,QAAtB;;;;;;;AAOA,AAAO,SAASC,YAAT,CAAsBC,KAAtB,EAA6B;SAC3BA,KAAK,CAACC,GAAN,CAAU,UAAAC,CAAC,EAAI;QACdC,OAAO,GAAGD,CAAC,CAACE,EAAlB;WAEE,oBAAC,QAAD;MAAU,IAAI,EAAEF,CAAhB;MAAmB,KAAK,EAAEA,CAAC,CAACG,IAA5B;MAAkC,GAAG,EAAEF;OACpCD,CAAC,CAACI,QAAF,CAAWC,MAAX,GAAoB,CAApB,IAAyBR,YAAY,CAACG,CAAC,CAACI,QAAH,AAAA,CADxC,CADF;GAFK,CAAP;;;ACXF,SAAS,WAAW,CAAC,GAAG,EAAE,GAAG,EAAE;EAC7B,KAAK,GAAG,KAAK,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,CAAC;EAC/B,IAAI,QAAQ,GAAG,GAAG,CAAC,QAAQ,CAAC;;EAE5B,IAAI,CAAC,GAAG,IAAI,OAAO,QAAQ,KAAK,WAAW,EAAE,EAAE,OAAO,EAAE;;EAExD,IAAI,IAAI,GAAG,QAAQ,CAAC,IAAI,IAAI,QAAQ,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;EACrE,IAAI,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;EAC5C,KAAK,CAAC,IAAI,GAAG,UAAU,CAAC;;EAExB,IAAI,QAAQ,KAAK,KAAK,EAAE;IACtB,IAAI,IAAI,CAAC,UAAU,EAAE;MACnB,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;KAC3C,MAAM;MACL,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;KACzB;GACF,MAAM;IACL,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;GACzB;;EAED,IAAI,KAAK,CAAC,UAAU,EAAE;IACpB,KAAK,CAAC,UAAU,CAAC,OAAO,GAAG,GAAG,CAAC;GAChC,MAAM;IACL,KAAK,CAAC,WAAW,CAAC,QAAQ,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,CAAC;GACjD;CACF;;;;;;ICJME,gBAAAA;;;;;;;;AAQP,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,GAAD,EAAMC,QAAN,EAAgBC,QAAhB,EAA6B;EAC/CD,QAAQ,CAACE,OAAT,CAAiB,UAAAC,IAAI,EAAI;QACnBA,IAAI,CAACT,IAAL,CAAUU,OAAV,CAAkBL,GAAlB,IAAyB,CAAC,CAA9B,EAAiC;MAC/BE,QAAQ,CAACI,IAAT,CAAcF,IAAd;;;QAEEA,IAAI,CAACR,QAAL,IAAiBQ,IAAI,CAACR,QAAL,CAAcC,MAAd,GAAuB,CAA5C,EAA+C;MAC7CE,WAAW,CAACC,GAAD,EAAMI,IAAI,CAACR,QAAX,EAAqBM,QAArB,CAAX;;GALJ;CADF;;IAWMK;;;;;;;;;;;;;;;;;;4DACI;MACNC,MAAM,EAAE,IADF;MAENC,OAAO,EAAE,IAFH;MAGNC,QAAQ,EAAE,KAHJ;MAINC,YAAY,EAAE,EAJR;MAKNC,UAAU,EAAE,EALN;MAMNC,gBAAgB,EAAE,EANZ;MAONC,YAAY,EAAE;;;mEAeD,UAAAC,IAAI,EAAI;wBACY,MAAKC,KADjB;UACdC,gBADc,eACdA,gBADc;UACGC,KADH,eACGA,KADH;;UAElBA,KAAH,EAAS;QACPC,MAAM,CAACC,OAAP,CAAeC,GAAf,CAAmBN,IAAnB;;;wBAEwB,MAAKO,KALV;UAKdd,MALc,eAKdA,MALc;UAKNC,OALM,eAKNA,OALM;;UAMjBQ,gBAAJ,EAAsB;QACpBA,gBAAgB,CAACF,IAAI,GAAG,CAAR,EAAWN,OAAX,EAAoBD,MAApB,CAAhB;;cACKe,QAAL,CAAc;UAACb,QAAQ,EAAE;SAAzB;OAFF,MAGO;iBACGc,KAAR,CAAc,uBAAd;;;;yEAQiB,UAAAC,CAAC,EAAI;UACpB,CAACA,CAAC,CAACC,MAAF,CAASC,KAAd,EAAqB;YACZV,gBADY,GACQ,MAAKD,KADb,CACZC,gBADY;YAEZT,MAFY,GAEF,MAAKc,KAFH,CAEZd,MAFY;;YAGfS,gBAAJ,EAAsB;UACpBA,gBAAgB,CAAC,CAAD,EAAI,IAAJ,EAAUT,MAAV,CAAhB;;gBACKe,QAAL,CAAc;YAACb,QAAQ,EAAE,IAAX;YAAiBD,OAAO,EAAE;WAAxC;SAFF,MAGO;mBACGe,KAAR,CAAc,uBAAd;;;;;mEAUS,YAAoB;UAAnBf,OAAmB,uEAAT,IAAS;UAC1BQ,gBAD0B,GACN,MAAKD,KADC,CAC1BC,gBAD0B;UAE1BT,MAF0B,GAEhB,MAAKc,KAFW,CAE1Bd,MAF0B;;UAG7BS,gBAAJ,EAAsB;QACpBA,gBAAgB,CAAC,CAAD,EAAIR,OAAJ,EAAaD,MAAb,CAAhB;;cACKe,QAAL,CAAc;UAACb,QAAQ,EAAE,IAAX;UAAiBD,OAAO,EAAPA;SAA/B;OAFF,MAGO;iBACGe,KAAR,CAAc,uBAAd;;;;mEAQW,UAAAI,YAAY,EAAI;UACtBX,gBADsB,GACF,MAAKD,KADH,CACtBC,gBADsB;;UAEzBA,gBAAJ,EAAsB;2CACHW,YADG;YACbpB,MADa;;QAEpBS,gBAAgB,CAAC,CAAD,EAAI,IAAJ,EAAUT,MAAV,CAAhB;;cACKe,QAAL,CAAc;UAACb,QAAQ,EAAE,IAAX;UAAiBF,MAAM,EAANA;SAA/B;OAHF,MAIO;iBACGgB,KAAR,CAAc,uBAAd;;;;sEAWc,UAACK,WAAD,QAAgD;UAAjCC,OAAiC,QAAjCA,OAAiC;UAAxBC,YAAwB,QAAxBA,YAAwB;UAAVC,IAAU,QAAVA,IAAU;UAC1DC,GAAG,GAAG,EAAZ;UACOtB,YAFyD,GAEzC,MAAKW,KAFoC,CAEzDX,YAFyD;;UAG5DmB,OAAJ,EAAa;2CACGC,YADH;YACJG,GADI;;YAGDC,IAHC,GAIPD,GAJO,CAGTlB,KAHS,CAGDmB,IAHC;QAKXF,GAAG,CAAC3B,IAAJ,CAAS6B,IAAT;;cACKZ,QAAL,CAAc;UAACZ,YAAY,EAAEA,YAAY,CAACyB,MAAb,CAAoBH,GAApB;SAA7B;OANF,MAOO;YAEKE,KAFL,GAGDH,IAHC,CAEHhB,KAFG,CAEKmB,IAFL;YAICE,MAAM,GAAG1B,YAAY,CAAC2B,MAAb,CAAoB,UAAAX,KAAK;iBAAIA,KAAK,CAACjC,EAAN,KAAayC,KAAI,CAACzC,EAAtB;SAAzB,CAAf;;cACK6B,QAAL,CAAc;UAACZ,YAAY,EAAE0B,MAAM,CAACD,MAAP,CAAcH,GAAd;SAA7B;;;;kEAQU,UAAAR,CAAC,EAAI;UACVc,iBADU,GACW,MAAKvB,KADhB,CACVuB,iBADU;sBAIbd,CAJa,CAGfC,MAHe;UAGNI,OAHM,aAGNA,OAHM;UAGGK,IAHH,aAGGA,IAHH;UAKVvB,UALU,GAKI,MAAKU,KALT,CAKVV,UALU;UAMXqB,GAAG,GAAG,EAAZ;UACIO,aAAa,GAAG,EAApB;;UACIV,OAAJ,EAAa;QACXG,GAAG,CAAC3B,IAAJ,CAAS6B,IAAT;QACAK,aAAa,GAAG5B,UAAU,CAACwB,MAAX,CAAkBH,GAAlB,CAAhB;OAFF,MAGO;YACCI,MAAM,GAAGzB,UAAU,CAAC0B,MAAX,CAAkB,UAAAX,KAAK;iBAAIA,KAAK,CAACc,MAAN,KAAiBN,IAAI,CAACM,MAA1B;SAAvB,CAAf;QACAD,aAAa,GAAGH,MAAM,CAACD,MAAP,CAAcH,GAAd,CAAhB;;;YAEGV,QAAL,CAAc;QAACX,UAAU,EAAE4B;OAA3B;;MACAD,iBAAiB,CAACC,aAAD,CAAjB;;;iEAOW,UAAAf,CAAC,EAAI;UAELK,OAFK,GAGZL,CAHY,CAEdC,MAFc,CAELI,OAFK;UAIVG,GAAG,GAAG,EAAZ;;UACIH,OAAJ,EAAa;YACJpB,QADI,GACQ,MAAKY,KADb,CACJZ,QADI;2BAEmB,MAAKM,KAFxB;YAEJ0B,KAFI,gBAEJA,KAFI;YAEGC,YAFH,gBAEGA,YAFH;YAGPC,QAAJ;;YACIlC,QAAJ,EAAc;UACZkC,QAAQ,GAAGD,YAAX;SADF,MAEO;UACLC,QAAQ,GAAGF,KAAX;;;QAEFE,QAAQ,CAACC,OAAT,CAAiB1C,OAAjB,CAAyB,UAAAwB,KAAK,EAAI;UAChCM,GAAG,CAAC3B,IAAJ,CAASqB,KAAT;SADF;;;YAIGJ,QAAL,CAAc;QAACX,UAAU,EAAEqB;OAA3B;;;kEAQY,UAAAzC,CAAC;aACb;QACE,GAAG,EAAEA,CAAC,CAACE,EADT;QAEE,SAAS,EAAEoD,MAAM,CAACC,OAFpB;QAGE,OAAO,EAAE,iBAAAtB,CAAC,EAAI;UACZA,CAAC,CAACuB,cAAF;;gBACKC,WAAL,CAAiBzD,CAAjB;;SAGDA,CAAC,CAACG,IARL,OAQW;QAAM,IAAI,EAAC,cAAX;QAA0B,KAAK,EAAC;QAR3C,CADa;;;kEAiBD,UAAAwC,IAAI,EAAI;UACdF,GAAG,GAAG,EAAZ;UACOtB,YAFa,GAEG,MAAKW,KAFR,CAEbX,YAFa;UAGd0B,MAAM,GAAG1B,YAAY,CAAC2B,MAAb,CAAoB,UAAAX,KAAK;eAAIA,KAAK,CAACjC,EAAN,KAAayC,IAAI,CAACzC,EAAtB;OAAzB,CAAf;;YACK6B,QAAL,CAAc;QAACZ,YAAY,EAAE0B,MAAM,CAACD,MAAP,CAAcH,GAAd;OAA7B;;;kEAQY,UAAAzC,CAAC,EAAI;aAEf;QACE,GAAG,EAAEA,CAAC,CAACiD,MADT;QAEE,SAAS,EAAEK,MAAM,CAACI,OAFpB;QAGE,OAAO,EAAE,iBAAAzB,CAAC,EAAI;UACZA,CAAC,CAACuB,cAAF;;gBACKG,WAAL,CAAiB3D,CAAjB;;SAGDA,CAAC,CAAC4D,QARL,OAQe;QAAM,IAAI,EAAC,cAAX;QAA0B,KAAK,EAAC;QAR/C,CADF;;;kEAkBY,UAAAjB,IAAI,EAAI;UACdF,GAAG,GAAG,EAAZ;UACOrB,UAFa,GAEC,MAAKU,KAFN,CAEbV,UAFa;UAGdyB,MAAM,GAAGzB,UAAU,CAAC0B,MAAX,CAAkB,UAAAX,KAAK;eAAIA,KAAK,CAACc,MAAN,KAAiBN,IAAI,CAACM,MAA1B;OAAvB,CAAf;;YACKlB,QAAL,CAAc;QAACX,UAAU,EAAEyB,MAAM,CAACD,MAAP,CAAcH,GAAd;OAA3B;;;kEAQY,UAAAE,IAAI,EAAI;UACbvB,UADa,GACC,MAAKU,KADN,CACbV,UADa;UAEdyB,MAAM,GAAGzB,UAAU,CAACyC,IAAX,CAAgB,UAAA1B,KAAK;eAAIA,KAAK,CAACc,MAAN,KAAiBN,IAAI,CAACM,MAA1B;OAArB,CAAf;aACO,CAAC,CAACJ,MAAT;;;kEAQY,UAAAF,IAAI,EAAI;UACbxB,YADa,GACG,MAAKW,KADR,CACbX,YADa;UAEd0B,MAAM,GAAG1B,YAAY,CAAC0C,IAAb,CAAkB,UAAA1B,KAAK;eAAIA,KAAK,CAACjC,EAAN,KAAayC,IAAI,CAACzC,EAAtB;OAAvB,CAAf;aACO,CAAC,CAAC2C,MAAT;;;sEAQgB,UAAAF,IAAI,EAAI;aACjBA,IAAI,CAAC5C,GAAL,CAAS,UAAAC,CAAC;eAAIA,CAAC,CAACE,EAAN;OAAV,CAAP;;;mEAOa,UAAAiC,KAAK,EAAI;UAClB,CAACA,KAAL,EAAY;cACLJ,QAAL,CAAc;UAACV,gBAAgB,EAAE,EAAnB;UAAuBC,YAAY,EAAE,CAAC,CAACa;SAArD;OADF,MAEO;mCACmB,MAAKX,KADxB,CACEf,QADF;YACEA,QADF,qCACa,EADb;YAECC,QAAQ,GAAG,EAAjB;QACAH,WAAW,CAAC4B,KAAK,CAAC2B,IAAN,EAAD,EAAerD,QAAf,EAAyBC,QAAzB,CAAX;;cACKqB,QAAL,CAAc;UAACV,gBAAgB,EAAEX,QAAnB;UAA6BY,YAAY,EAAE,CAAC,CAACa;SAA3D;;;;yEAIe,UAAAF,CAAC,EAAE;UAChB,CAACA,CAAC,CAACC,MAAF,CAASC,KAAd,EAAqB;cACdJ,QAAL,CAAc;UAACV,gBAAgB,EAAE,EAAnB;UAAuBC,YAAY,EAAE;SAAnD;;;;mEAQW,UAAAV,IAAI,EAAI;YAChBmD,YAAL,CAAkB,IAAlB,EAAwBnD,IAAI,CAACV,EAA7B;;YACK6B,QAAL,CAAc;QAACb,QAAQ,EAAE;OAAzB;;;kEAOY,UAAAe,CAAC,EAAI;uBAGbA,CAHa,CAEfC,MAFe;UAENI,OAFM,cAENA,OAFM;UAEGK,IAFH,cAEGA,IAFH;UAIVxB,YAJU,GAIM,MAAKW,KAJX,CAIVX,YAJU;UAKXsB,GAAG,GAAG,EAAZ;;UACIH,OAAJ,EAAa;QACXG,GAAG,CAAC3B,IAAJ,CAAS6B,IAAT;;cACKZ,QAAL,CAAc;UAACZ,YAAY,EAAEA,YAAY,CAACyB,MAAb,CAAoBH,GAApB;SAA7B;OAFF,MAGO;YACCI,MAAM,GAAG1B,YAAY,CAAC2B,MAAb,CAAoB,UAAAX,KAAK;iBAAIA,KAAK,CAACjC,EAAN,KAAayC,IAAI,CAACzC,EAAtB;SAAzB,CAAf;;cACK6B,QAAL,CAAc;UAACZ,YAAY,EAAE0B,MAAM,CAACD,MAAP,CAAcH,GAAd;SAA7B;;;;;;;;;8CA5RsBuB,WAAW;UAC5BC,WAD4B,GACbD,SADa,CAC5BC,WAD4B;UAE5B7C,UAF4B,GAEd,KAAKU,KAFS,CAE5BV,UAF4B;;UAG/BA,UAAU,CAACf,MAAX,KAAsB,CAAtB,IAA2B4D,WAAW,CAAC5D,MAAZ,GAAqB,CAApD,EAAuD;aAChD0B,QAAL,CAAc;UAACX,UAAU,EAAE6C;SAA3B;;;;;;;;;;6BA4RK;;;yBAWH,KAAKzC,KAXF;+CAELf,QAFK;UAELA,QAFK,sCAEM,EAFN;UAGLyC,KAHK,gBAGLA,KAHK;8CAILgB,OAJK;UAILA,OAJK,qCAIK,KAJL;UAKLf,YALK,gBAKLA,YALK;+CAMLgB,UANK;UAMLA,UANK,sCAMQ,KANR;+CAOLC,UAPK;UAOLA,UAPK,sCAOQ,KAPR;+CAQLC,YARK;UAQLA,YARK,sCAQU,KARV;UASLC,qBATK,gBASLA,qBATK;UAULC,qBAVK,gBAULA,qBAVK;yBAY6E,KAAKzC,KAZlF;UAYAX,YAZA,gBAYAA,YAZA;UAYcC,UAZd,gBAYcA,UAZd;UAY0BF,QAZ1B,gBAY0BA,QAZ1B;UAYoCI,YAZpC,gBAYoCA,YAZpC;UAYkDD,gBAZlD,gBAYkDA,gBAZlD;UAYoEK,KAZpE,gBAYoEA,KAZpE;UAaH0B,QAAJ;;UACIlC,QAAJ,EAAc;QACZkC,QAAQ,GAAGD,YAAX;OADF,MAEO;QACLC,QAAQ,GAAGF,KAAX;;;UAEExB,KAAJ,EAAW;QACTC,MAAM,CAACC,OAAP,CAAeC,GAAf,CAAmBuB,QAAnB;;;aAGA;QAAK,KAAK,EAAE;UAACoB,MAAM,EAAE;;SACnB;QAAM,QAAQ,EAAEN;SACbE,UAAU,IACT,gCACE,oBAAC,MAAD;QAAQ,WAAW,EAAEG,qBAArB;QAA4C,QAAQ,EAAE,KAAKR;QAD7D,CAFJ,EAMGK,UAAU,IAAI,+BANjB,EAOE,gCACE;QAAK,EAAE,EAAE,EAAT;QAAa,EAAE,EAAE,EAAjB;QAAqB,EAAE,EAAE,EAAzB;QAA6B,EAAE,EAAE,EAAjC;QAAqC,EAAE,EAAE;SACvC;QAAM,SAAS,EAAEd,MAAM,CAACmB;SACrBN,UAAU,IACX,oBAAC,MAAD;QAAQ,WAAW,EAAEG,qBAArB;QAA4C,QAAQ,EAAE,KAAKI,kBAA3D;QAA+E,QAAQ,EAAE,KAAKC;QAFhG,EAGGR,UAAU,IAAI,+BAHjB,EAIG,CAAC7C,YAAD,IACC;QACE,SAAS,EAAE+C,YADb;QAEE,WAAW,EAAE,KAAKO,eAAL,CAAqBzD,YAArB,CAFf;QAGE,QAAQ,EAAE,KAAK0D,YAHjB;QAIE,OAAO,EAAE,KAAKC;SAEbjF,YAAY,CAACY,QAAD,CANf,CALJ,EAcGa,YAAY,IACX;QACE,IAAI,EAAC,OADP;QAEE,QAAQ,EAAE,KAFZ;QAGE,UAAU,EAAED,gBAHd;QAIE,KAAK,EAAE,KAJT;QAKE,UAAU,EAAE,oBAAAT,IAAI,EAAI;iBAEhB,0BAAM,IAAN,QACE;YAAK,SAAS,EAAE0C,MAAM,CAACyB;aACrB;YACE,SAAS,EAAEzB,MAAM,CAAC0B,QADpB;YAEE,IAAI,EAAEpE,IAFR;YAGE,OAAO,EAAE,MAAI,CAACqE,WAAL,CAAiBrE,IAAjB,CAHX;YAIE,QAAQ,EAAE,MAAI,CAACsE;YALnB,EAOE;YAAM,OAAO,EAAE;qBAAM,MAAI,CAACC,YAAL,CAAkBvE,IAAlB,CAAN;;aAAgCA,IAAI,CAACT,IAApD,CAPF,CADF,CADF;;QArBR,CADF,CADF,EAyCE;QAAK,EAAE,EAAE,EAAT;QAAa,EAAE,EAAE,EAAjB;QAAqB,EAAE,EAAE,EAAzB;QAA6B,EAAE,EAAE,EAAjC;QAAqC,EAAE,EAAE,EAAzC;QAA6C,SAAS,EAAEmD,MAAM,CAAC8B;SAC7D;QAAM,SAAS,EAAE9B,MAAM,CAACmB;SACrBN,UAAU,IACT,oBAAC,MAAD;QACE,WAAW,EAAEI,qBADf;QAEE,QAAQ,EAAE,KAAKR,YAFjB;QAGE,QAAQ,EAAE,KAAKsB;QALrB,EAQGlB,UAAU,IAAI,+BARjB,EASE;QACE,IAAI,EAAC,OADP;QAEE,QAAQ,EAAE,KAFZ;QAGE,UAAU,EAAEf,QAAQ,CAACC,OAHvB;QAIE,KAAK,EAAE,KAJT;QAKE,UAAU,EAAE,oBAAAzC,IAAI,EAAI;iBAEhB,0BAAM,IAAN,QACE;YAAK,SAAS,EAAE0C,MAAM,CAACyB;aACrB;YACE,SAAS,EAAEzB,MAAM,CAAC0B,QADpB;YAEE,IAAI,EAAEpE,IAFR;YAGE,OAAO,EAAE,MAAI,CAAC0E,WAAL,CAAiB1E,IAAjB,CAHX;YAIE,QAAQ,EAAE,MAAI,CAAC2E;aAEd3E,IAAI,CAACgD,QANR,CADF,EASE;YAAK,SAAS,EAAEN,MAAM,CAACkC;aAAW5E,IAAI,CAAC4E,QAAvC,CATF,CADF,CADF;;QAfN,CADF,EAkCE;QAAK,SAAS,EAAElC,MAAM,CAACmC;SACrB;QAAU,QAAQ,EAAE,KAAKC,UAAzB;QAAqC,SAAS,EAAEpC,MAAM,CAAC0B;wBADzD,EAIE;QACE,SAAS,EAAE1B,MAAM,CAACqC,OADpB;QAEE,MAAM,MAFR;QAGE,OAAO,EAAEvC,QAAQ,CAACwC,OAAT,IAAoBxC,QAAQ,CAACwC,OAAT,KAAqB,CAAzC,GAA6CxC,QAAQ,CAACwC,OAAT,GAAmB,CAAhE,GAAoE,CAH/E;QAIE,QAAQ,EAAExC,QAAQ,CAACyC,IAJrB;QAKE,KAAK,EAAEzC,QAAQ,CAAC0C,KALlB;QAME,QAAQ,EAAE,KAAKC;QAVnB,CAlCF,CAzCF,EAyFE;QAAK,EAAE,EAAE,EAAT;QAAa,EAAE,EAAE,EAAjB;QAAqB,EAAE,EAAE,EAAzB;QAA6B,EAAE,EAAE,EAAjC;QAAqC,EAAE,EAAE;SACvC;QAAM,KAAK,EAAE;SACX,0BAAM,IAAN;QAAW,KAAK,oCAAS5E,YAAY,CAACd,MAAb,GAAsBe,UAAU,CAACf,MAA1C;SACd;QAAK,SAAS,EAAEiD,MAAM,CAAC0C;SACpB7E,YAAY,IAAIA,YAAY,CAACpB,GAAb,CAAiB,UAAAC,CAAC;eAAI,MAAI,CAACiG,WAAL,CAAiBjG,CAAjB,CAAJ;OAAlB,CADnB,EAEGoB,UAAU,IAAIA,UAAU,CAACrB,GAAX,CAAe,UAAAC,CAAC;eAAI,MAAI,CAACkG,WAAL,CAAiBlG,CAAjB,CAAJ;OAAhB,CAFjB,CADF,CADF,CADF,CAzFF,CAPF,CADF,CADF;;;;;EAjUmBmG;;AAobvBpF,QAAQ,CAACqF,SAAT,GAAqB;EACnB3F,QAAQ,EAAE4F,SAAS,CAACC,KAAV,CAAgBC,UADP;EAEnBrD,KAAK,EAAEmD,SAAS,CAACG,MAFE;EAGnBtC,OAAO,EAAEmC,SAAS,CAACI,IAHA;EAInBtD,YAAY,EAAEkD,SAAS,CAACG,MAJL;EAKnB/E,gBAAgB,EAAE4E,SAAS,CAACK,IAAV,CAAeH,UALd;EAMnBpC,UAAU,EAAEkC,SAAS,CAACI,IANH;EAOnB1D,iBAAiB,EAAEsD,SAAS,CAACK,IAAV,CAAeH,UAPf;EAQnBlC,YAAY,EAAEgC,SAAS,CAACI,IARL;EASnBnC,qBAAqB,EAAE+B,SAAS,CAACM,MATd;EAUnBpC,qBAAqB,EAAE8B,SAAS,CAACM,MAVd;EAWnBjF,KAAK,EAAE2E,SAAS,CAACI;CAXnB;AAcA1F,QAAQ,CAAC6F,YAAT,GAAwB;EACtB1D,KAAK,EAAE;IACLG,OAAO,EAAE;GAFW;EAItBa,OAAO,EAAE,KAJa;EAKtBf,YAAY,EAAE;IACZE,OAAO,EAAE;GANW;EAQtBc,UAAU,EAAE,IARU;EAStBE,YAAY,EAAE,IATQ;EAUtBC,qBAAqB,EAAE,SAVD;EAWtBC,qBAAqB,EAAE,SAXD;EAYtB7C,KAAK,EAAE;CAZT;;;;"}