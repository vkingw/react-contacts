{"version":3,"file":"index.es.js","sources":["../src/utils.js","../node_modules/style-inject/dist/style-inject.es.js","../src/contacts.js"],"sourcesContent":["import React from 'react';\nimport {Tree} from \"antd\";\n\nconst TreeNode = Tree.TreeNode;\n\n/**\n *\n * @param nodes\n * @returns {*} tree nodes.\n */\nexport function makeTreeNode(nodes) {\n  return nodes.map(v => {\n    const nodeKey = v.id;\n    return (\n      <TreeNode data={v} title={v.name} key={nodeKey}>\n        {v.children.length > 0 && makeTreeNode(v.children, nodeKey)}\n      </TreeNode>\n    );\n  });\n}\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React, {PureComponent} from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Card,\n  Checkbox,\n  Col,\n  Form,\n  Input,\n  List,\n  Pagination,\n  Row,\n  Tree,\n  Spin,\n  Tag,\n  Icon,\n  message,\n} from 'antd';\nimport {makeTreeNode} from './utils';\n\nimport styles from './contacts.less';\n\nconst {Search} = Input;\n\n/**\n * 根据关键字搜索部门树\n * @param key\n * @param deptTree\n * @param dataList\n */\nconst searchByKey = (key, deptTree, dataList) => {\n  deptTree.forEach(item => {\n    if (item.name.indexOf(key) > -1) {\n      dataList.push(item);\n    }\n    if (item.children && item.children.length > 0) {\n      searchByKey(key, item.children, dataList);\n    }\n  });\n};\n\nclass Contacts extends PureComponent {\n  state = {\n    deptId: null,\n    nameKey: null,\n    onSearch: false,\n    deptTreeNode: [],\n    selectUser: [],\n    deptSearchResult: [],\n    onDeptSearch: false,\n  };\n\n  componentWillReceiveProps(nextProps) {\n    const {userInfRole} = nextProps;\n    const {selectUser} = this.state;\n    if (selectUser.length === 0 && userInfRole.length > 0) {\n      this.setState({selectUser: userInfRole});\n    }\n  }\n\n  /**\n   * 翻页查询处理\n   * @param page\n   */\n  onPageChange = page => {\n    const {handleSearchUser} = this.props;\n    const {deptId, nameKey} = this.state;\n    if (handleSearchUser) {\n      handleSearchUser(page - 1, nameKey, deptId);\n      this.setState({onSearch: true});\n    } else {\n      message.error('搜索function not found.');\n    }\n  };\n\n  /**\n   * 姓名搜索为空时处理\n   * @param e\n   */\n  handleSearchChange = e => {\n    if (!e.target.value) {\n      const {handleSearchUser} = this.props;\n      const {deptId} = this.state;\n      if (handleSearchUser) {\n        handleSearchUser(0, null, deptId);\n        this.setState({onSearch: true, nameKey: null});\n      } else {\n        message.error('搜索function not found.');\n      }\n    }\n  };\n\n  /**\n   *  点击查询回调，会把name key 和 dept id 回传，外部调用查询用\n   * @param nameKey 名字搜索关键字\n   * @param deptId 部门id\n   */\n  handleSearch = (nameKey = null) => {\n    const {handleSearchUser} = this.props;\n    const {deptId} = this.state;\n    if (handleSearchUser) {\n      handleSearchUser(0, nameKey, deptId);\n      this.setState({onSearch: true, nameKey});\n    } else {\n      message.error('搜索function not found.');\n    }\n  };\n\n  /**\n   * 点击部门树时传递部门id到回调里面\n   * @param selectedKeys 选择的部门id\n   */\n  onTreeSelect = selectedKeys => {\n    const {handleSearchUser} = this.props;\n    if (handleSearchUser) {\n      const [deptId] = selectedKeys;\n      handleSearchUser(0, null, deptId);\n      this.setState({onSearch: true, deptId});\n    } else {\n      message.error('搜索function not found.');\n    }\n  };\n\n  /**\n   * 点击树的check box 回调\n   * @param checkedKeys\n   * @param checked\n   * @param checkedNodes\n   * @param node\n   */\n  onDeptTreeCheck = (checkedKeys, {checked, checkedNodes, node}) => {\n    const tmp = [];\n    const {deptTreeNode} = this.state;\n    if (checked) {\n      const [one] = checkedNodes;\n      const {\n        props: {data},\n      } = one;\n      tmp.push(data);\n      this.setState({deptTreeNode: deptTreeNode.concat(tmp)});\n    } else {\n      const {\n        props: {data},\n      } = node;\n      const result = deptTreeNode.filter(value => value.id !== data.id);\n      this.setState({deptTreeNode: result.concat(tmp)});\n    }\n  };\n\n  /**\n   * 点击用户列表的回调\n   * @param e\n   */\n  onUserCheck = e => {\n    const {updateSelectUsers} = this.props;\n    const {\n      target: {checked, data},\n    } = e;\n    const {selectUser} = this.state;\n    const tmp = [];\n    let newSelectUser = [];\n    if (checked) {\n      tmp.push(data);\n      newSelectUser = selectUser.concat(tmp);\n    } else {\n      const result = selectUser.filter(value => value.userId !== data.userId);\n      newSelectUser = result.concat(tmp);\n    }\n    this.setState({selectUser: newSelectUser});\n    updateSelectUsers(newSelectUser);\n  };\n\n  /**\n   * 点击用户全选的回调\n   * @param e\n   */\n  onCheckAll = e => {\n    const {\n      target: {checked},\n    } = e;\n    const tmp = [];\n    if (checked) {\n      const {onSearch} = this.state;\n      const {users, searchResult} = this.props;\n      let userData;\n      if (onSearch) {\n        userData = searchResult;\n      } else {\n        userData = users;\n      }\n      userData.records.forEach(value => {\n        tmp.push(value);\n      });\n    }\n    this.setState({selectUser: tmp});\n  };\n\n  /**\n   * 生成显示的部门Tag\n   * @param v\n   * @return {*}\n   */\n  makeDeptTag = v => (\n    <Tag\n      key={v.id}\n      className={styles.deptTag}\n      onClick={e => {\n        e.preventDefault();\n        this.unCheckDept(v);\n      }}\n    >\n      {v.name} <Icon type=\"close-circle\" theme=\"filled\" />\n    </Tag>\n  );\n\n  /**\n   *\n   * @param data\n   */\n  unCheckDept = data => {\n    const tmp = [];\n    const {deptTreeNode} = this.state;\n    const result = deptTreeNode.filter(value => value.id !== data.id);\n    this.setState({deptTreeNode: result.concat(tmp)});\n  };\n\n  /**\n   * 生成显示的用户Tag\n   * @param v\n   * @return {*}\n   */\n  makeUserTag = v => {\n    return (\n      <Tag\n        key={v.userId}\n        className={styles.userTag}\n        onClick={e => {\n          e.preventDefault();\n          this.unCHeckUser(v);\n        }}\n      >\n        {v.username} <Icon type=\"close-circle\" theme=\"filled\" />\n      </Tag>\n    );\n  };\n\n  /**\n   * 点击用户Tag时取消选择\n   * @param data\n   */\n  unCHeckUser = data => {\n    const tmp = [];\n    const {selectUser} = this.state;\n    const result = selectUser.filter(value => value.userId !== data.userId);\n    this.setState({selectUser: result.concat(tmp)});\n  };\n\n  /**\n   * 判断用户是否选择\n   * @param data\n   * @return {boolean}\n   */\n  isUserCheck = data => {\n    const {selectUser} = this.state;\n    const result = selectUser.find(value => value.userId === data.userId);\n    return !!result;\n  };\n\n  /**\n   * 判断部门是否选择\n   * @param data\n   * @return {boolean}\n   */\n  isDeptCheck = data => {\n    const {deptTreeNode} = this.state;\n    const result = deptTreeNode.find(value => value.id === data.id);\n    return !!result;\n  };\n\n  /**\n   * 生成选择树\n   * @param data\n   * @return {*}\n   */\n  makeCheckedKeys = data => {\n    return data.map(v => v.id);\n  };\n\n  /**\n   * 根据关键字搜索部门\n   * @param e\n   */\n  onSearchDept = e => {\n    const {value} = e.target;\n    if (!value) {\n      this.setState({deptSearchResult: [], onDeptSearch: !!value});\n    } else {\n      const {deptTree = []} = this.props;\n      const dataList = [];\n      searchByKey(value.trim(), deptTree, dataList);\n      this.setState({deptSearchResult: dataList, onDeptSearch: !!value});\n    }\n  };\n\n  /**\n   * 点击部门查询结果后，传递部门ID给外部查询\n   * @param item\n   */\n  onDeptSelect = item => {\n    this.handleSearch(null, item.id);\n    this.setState({onSearch: true});\n  };\n\n  /**\n   * 部门查询结果点击checkbox\n   * @param e\n   */\n  onDeptCheck = e => {\n    const {\n      target: {checked, data},\n    } = e;\n    const {deptTreeNode} = this.state;\n    const tmp = [];\n    if (checked) {\n      tmp.push(data);\n      this.setState({deptTreeNode: deptTreeNode.concat(tmp)});\n    } else {\n      const result = deptTreeNode.filter(value => value.id !== data.id);\n      this.setState({deptTreeNode: result.concat(tmp)});\n    }\n  };\n\n  render() {\n    const {\n      deptTree = [],\n      users,\n      loading = false,\n      searchResult,\n      deptSearch = false,\n      userSearch = false,\n      deptCheckBox = false,\n      searchDeptPlaceholder,\n      searchUserPlaceholder\n    } = this.props;\n    const {deptTreeNode, selectUser, onSearch, onDeptSearch, deptSearchResult} = this.state;\n    let userData;\n    if (onSearch) {\n      userData = searchResult;\n    } else {\n      userData = users;\n    }\n    return (\n      <div style={{height: '100%'}}>\n        <Spin spinning={loading}>\n          {userSearch && (\n            <Row>\n              <Search placeholder={searchUserPlaceholder}\n                      onChange={value => this.handleSearch(value)} />\n            </Row>\n          )}\n          {userSearch && <br />}\n          <Row>\n            <Col xs={12} sm={12} md={12} lg={12} xl={12}>\n              <Card className={styles.card}>\n                {deptSearch &&\n                <Search placeholder={searchDeptPlaceholder} onChange={this.onSearchDept} />}\n                {deptSearch && <br />}\n                {!onDeptSearch && (\n                  <Tree\n                    checkable={deptCheckBox}\n                    checkedKeys={this.makeCheckedKeys(deptTreeNode)}\n                    onSelect={this.onTreeSelect}\n                    onCheck={this.onDeptTreeCheck}\n                  >\n                    {makeTreeNode(deptTree)}\n                  </Tree>\n                )}\n                {onDeptSearch && (\n                  <List\n                    size=\"small\"\n                    bordered={false}\n                    dataSource={deptSearchResult}\n                    split={false}\n                    renderItem={item => {\n                      return (\n                        <List.Item>\n                          <div className={styles.itemDiv}>\n                            <Checkbox\n                              className={styles.checkbox}\n                              data={item}\n                              checked={this.isDeptCheck(item)}\n                              onChange={this.onDeptCheck}\n                            />\n                            <span onClick={() => this.onDeptSelect(item)}>{item.name}</span>\n                          </div>\n                        </List.Item>\n                      );\n                    }}\n                  />\n                )}\n              </Card>\n            </Col>\n            <Col xs={12} sm={12} md={12} lg={12} xl={12} className={styles.treeLeft}>\n              <Card className={styles.card}>\n                {deptSearch && (\n                  <Search\n                    placeholder={searchUserPlaceholder}\n                    onSearch={this.handleSearch}\n                    onChange={this.handleSearchChange}\n                  />\n                )}\n                {deptSearch && <br />}\n                <List\n                  size=\"small\"\n                  bordered={false}\n                  dataSource={userData.records}\n                  split={false}\n                  renderItem={item => {\n                    return (\n                      <List.Item>\n                        <div className={styles.itemDiv}>\n                          <Checkbox\n                            className={styles.checkbox}\n                            data={item}\n                            checked={this.isUserCheck(item)}\n                            onChange={this.onUserCheck}\n                          >\n                            {item.username}\n                          </Checkbox>\n                          <div className={styles.deptName}>{item.deptName}</div>\n                        </div>\n                      </List.Item>\n                    );\n                  }}\n                />\n              </Card>\n              <div className={styles.pagination}>\n                <Checkbox onChange={this.onCheckAll} className={styles.checkbox}>\n                  全选\n                </Checkbox>\n                <Pagination\n                  className={styles.pageNoe}\n                  simple\n                  current={userData.current || userData.current === 0 ? userData.current + 1 : 0}\n                  pageSize={userData.size}\n                  total={userData.total}\n                  onChange={this.onPageChange}\n                />\n              </div>\n            </Col>\n            <Col xs={24} sm={24} md={24} lg={24} xl={24}>\n              <Form colon={false}>\n                <Form.Item label={`共选择了${deptTreeNode.length + selectUser.length}个`}>\n                  <div className={styles.resultDiv}>\n                    {deptTreeNode && deptTreeNode.map(v => this.makeDeptTag(v))}\n                    {selectUser && selectUser.map(v => this.makeUserTag(v))}\n                  </div>\n                </Form.Item>\n              </Form>\n            </Col>\n          </Row>\n        </Spin>\n      </div>\n    );\n  }\n}\n\nContacts.propTypes = {\n  deptTree: PropTypes.array.isRequired,\n  users: PropTypes.object,\n  loading: PropTypes.bool,\n  searchResult: PropTypes.object,\n  handleSearchUser: PropTypes.func.isRequired,\n  deptSearch: PropTypes.bool,\n  updateSelectUsers: PropTypes.func.isRequired,\n  deptCheckBox: PropTypes.bool,\n  searchDeptPlaceholder: PropTypes.string,\n  searchUserPlaceholder: PropTypes.string\n};\n\nContacts.defaultProps = {\n  deptTree: [],\n  users: {\n    records: [],\n  },\n  loading: false,\n  searchResult: {\n    records: [],\n  },\n  deptSearch: true,\n  deptCheckBox: true,\n  searchDeptPlaceholder: '请输入搜索部门',\n  searchUserPlaceholder: '请输入搜索姓名'\n};\n\nexport default Contacts;\n"],"names":["TreeNode","makeTreeNode","nodes","map","v","nodeKey","id","name","children","length","Search","searchByKey","key","deptTree","dataList","forEach","item","indexOf","push","Contacts","deptId","nameKey","onSearch","deptTreeNode","selectUser","deptSearchResult","onDeptSearch","page","handleSearchUser","props","state","setState","error","e","target","value","selectedKeys","checkedKeys","checked","checkedNodes","node","tmp","one","data","concat","result","filter","updateSelectUsers","newSelectUser","userId","users","searchResult","userData","records","styles","deptTag","preventDefault","unCheckDept","userTag","unCHeckUser","username","find","trim","handleSearch","nextProps","userInfRole","loading","deptSearch","userSearch","deptCheckBox","searchDeptPlaceholder","searchUserPlaceholder","height","card","onSearchDept","makeCheckedKeys","onTreeSelect","onDeptTreeCheck","itemDiv","checkbox","isDeptCheck","onDeptCheck","onDeptSelect","treeLeft","handleSearchChange","isUserCheck","onUserCheck","deptName","pagination","onCheckAll","pageNoe","current","size","total","onPageChange","resultDiv","makeDeptTag","makeUserTag","PureComponent","propTypes","PropTypes","array","isRequired","object","bool","func","string","defaultProps"],"mappings":"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"}